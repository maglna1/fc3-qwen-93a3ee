exports.id=6789,exports.ids=[6789],exports.modules={12670:(t,e,a)=>{"use strict";a.d(e,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n,s,o=a(98142);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}let __WEBPACK_DEFAULT_EXPORT__=function(t){return o.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:14.663,height:14.663,fill:"none"},t),o.createElement("g",{style:{mixBlendMode:"passthrough"}},n||(n=o.createElement("path",{fill:"#D8D8D8",fillOpacity:.01,fillRule:"evenodd",d:"M7.337.667c-3.69 0-6.67 2.98-6.67 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66a6.66 6.66 0 0 0-6.66-6.67Z"})),s||(s=o.createElement("path",{fill:"#333",d:"m10.138 5.471-4.667 4.667q-.046.046-.1.083-.055.036-.116.062-.06.025-.125.038-.064.012-.13.012t-.13-.012q-.064-.013-.125-.038-.06-.026-.115-.062-.055-.037-.101-.083-.047-.046-.083-.101-.037-.055-.062-.115-.025-.06-.038-.125-.013-.065-.013-.13 0-.066.013-.13.013-.065.038-.125.025-.061.062-.116.036-.054.083-.1l4.666-4.667q.047-.047.101-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.125.038.06.025.115.062.055.036.101.083.046.046.083.1.036.055.062.116.025.06.038.125.012.064.012.13t-.012.13q-.013.064-.038.125-.026.06-.062.115-.037.055-.083.101ZM5.471 4.53l.667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm4 4 .667.666q.046.047.083.101.036.055.062.116.025.06.038.125.012.064.012.13 0 .065-.012.13-.013.064-.038.125-.026.06-.062.115-.036.055-.083.101-.046.046-.1.083-.056.036-.116.062-.06.025-.125.038-.065.012-.13.012-.066 0-.13-.012-.065-.013-.125-.038-.061-.026-.116-.062-.054-.036-.1-.083l-.667-.667q-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.013-.064-.013-.13t.013-.13q.013-.064.038-.125.025-.06.062-.115.036-.055.083-.101.046-.047.1-.083.055-.037.116-.062.06-.025.125-.038.064-.013.13-.013t.13.013q.064.013.125.038.06.025.115.062.055.036.101.083Zm3.859-1.192q0-2.491-1.755-4.248-1.754-1.756-4.238-1.756-2.492 0-4.248 1.756-1.756 1.756-1.756 4.248 0 2.484 1.756 4.238 1.757 1.755 4.248 1.755 2.484 0 4.238-1.755 1.755-1.754 1.755-4.238Zm1.333 0q0 3.036-2.145 5.181t-5.181 2.145q-3.043 0-5.19-2.145Q0 10.374 0 7.337q0-3.044 2.147-5.19Q4.293 0 7.337 0q3.037 0 5.181 2.147 2.145 2.147 2.145 5.19ZM10.332 5q0 .066-.013.13t-.038.125q-.025.06-.061.114-.037.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.036-.1-.083-.047-.046-.083-.1-.037-.055-.062-.115-.025-.061-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.064.038-.124.025-.061.062-.115.036-.055.082-.101.047-.047.101-.083.055-.036.115-.061.06-.025.125-.038.064-.013.13-.013.065 0 .13.013.064.013.124.038t.115.061q.055.036.1.083.047.046.084.1.036.055.061.116.025.06.038.124.013.065.013.13ZM5.665 9.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.036.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.037-.101-.083-.047-.046-.083-.1-.036-.055-.061-.116-.025-.06-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.063.038-.124.025-.06.061-.115.036-.054.083-.1.046-.047.1-.083.055-.037.116-.062.06-.025.124-.038.065-.012.13-.012.066 0 .13.012.064.013.124.038.061.025.115.062.055.036.101.082.047.047.083.101.036.055.061.115.025.06.038.125.013.064.013.13Zm0-4.667q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13ZM9.665 9q0 .066-.013.13t-.038.125q-.025.06-.061.114-.036.055-.083.101-.046.047-.1.083-.055.036-.116.061-.06.025-.124.038-.064.013-.13.013-.065 0-.13-.013-.064-.013-.124-.038-.061-.025-.115-.061-.055-.036-.101-.083-.047-.046-.083-.1-.036-.055-.061-.115-.025-.061-.038-.125-.013-.064-.013-.13 0-.065.013-.13.013-.064.038-.124.025-.061.061-.115.036-.055.083-.101.046-.047.1-.083.055-.036.116-.061.06-.025.124-.038.065-.013.13-.013.066 0 .13.013t.124.038q.061.025.115.061.055.036.101.083.047.046.083.1.036.055.061.116.025.06.038.124.013.065.013.13Zm.667.667q0 .065-.013.13-.013.064-.038.124t-.061.115q-.037.055-.083.1-.046.047-.1.084-.055.036-.116.061-.06.025-.125.038-.064.013-.13.013-.065 0-.13-.013-.063-.013-.124-.038-.06-.025-.115-.061-.054-.037-.1-.083-.047-.046-.083-.1-.037-.055-.062-.116-.025-.06-.038-.125-.012-.064-.012-.13 0-.065.012-.13.013-.063.038-.124.025-.06.062-.115.036-.054.082-.1.047-.047.101-.083.055-.037.115-.062.06-.025.125-.038.064-.012.13-.012.065 0 .13.012.064.013.124.038t.115.062q.055.036.1.082.047.047.084.101.036.055.061.115.025.06.038.125.013.064.013.13Z"}))))}},13262:(t,e,a)=>{"use strict";a.d(e,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n,s,o=a(98142);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}let __WEBPACK_DEFAULT_EXPORT__=function(t){return o.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),n||(n=o.createElement("defs",null,o.createElement("path",{id:"download_svg__a",d:"M0 0h16v16H0z"}))),o.createElement("g",null,s||(s=o.createElement("mask",{id:"download_svg__b",fill:"#fff"},o.createElement("use",{xlinkHref:"#download_svg__a"}))),o.createElement("g",{mask:"url(#download_svg__b)"},o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 12h10c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v10c0 .55.45 1 1 1Z",transform:"translate(2 2)"}),o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0h3.67l.66 1.33H9L9.67 0h3.66",transform:"translate(1.333 10.333)"}),o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 3.33V0",transform:"translate(14 8.667)"}),o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 0 2 2 2-2",transform:"translate(6 7.333)"}),o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 5.33V0",transform:"translate(8 4)"}),o.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 3.33V0",transform:"translate(2 8.667)"}))))}},16789:(t,e,a)=>{"use strict";a.r(e),a.d(e,{ContextPrompts:()=>ContextPrompts,MaskAvatar:()=>MaskAvatar,MaskConfig:()=>MaskConfig,MaskPage:()=>MaskPage});var n,s,o=a(30784),i=a(72306),c=a(39727),r=a(71245),l=a.n(r),d=a(13262),m=a(98142);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}let upload=function(t){return m.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),m.createElement("g",null,n||(n=m.createElement("mask",{id:"upload_svg__b",fill:"#fff"},m.createElement("use",{xlinkHref:"#upload_svg__a"}))),m.createElement("g",{mask:"url(#upload_svg__b)"},m.createElement("path",{style:{fill:"#333",opacity:1},d:"M1.822 14.178A1.659 1.659 0 0 1 1.333 13V3a1.658 1.658 0 0 1 .489-1.178A1.658 1.658 0 0 1 3 1.333h10a1.659 1.659 0 0 1 1.178.489A1.658 1.658 0 0 1 14.667 3v10a1.659 1.659 0 0 1-1.018 1.535 1.643 1.643 0 0 1-.649.132H3a1.658 1.658 0 0 1-1.178-.489zm11.413-.943a.32.32 0 0 0 .098-.235V3a.32.32 0 0 0-.098-.235.32.32 0 0 0-.235-.098H3a.32.32 0 0 0-.235.098.32.32 0 0 0-.098.235v10c0 .09.033.17.098.235a.32.32 0 0 0 .235.098h10a.32.32 0 0 0 .235-.098z"}),m.createElement("path",{style:{fill:"#333",opacity:1},d:"M5.186 9.692a.664.664 0 0 1 .415.345l.476.96h3.846l.485-.964a.66.66 0 0 1 .414-.341.664.664 0 0 1 .181-.025h3.66a.665.665 0 0 1 .654.796.667.667 0 0 1-.654.537h-3.249l-.485.963a.665.665 0 0 1-.596.367h-4.67a.664.664 0 0 1-.597-.37L4.59 11H1.333a.666.666 0 1 1 0-1.333h3.67c.062 0 .123.008.183.025z"}),m.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.333 12V8.667a.666.666 0 1 1 1.334 0V12a.666.666 0 1 1-1.334 0zM7.63 3.446a.664.664 0 0 1 .841.083l2 2a.667.667 0 0 1-.942.942L8 4.943 6.471 6.47A.66.66 0 0 1 6 6.667a.66.66 0 0 1-.554-.297.665.665 0 0 1 .083-.841l2-2a.665.665 0 0 1 .1-.083z"}),m.createElement("path",{style:{fill:"#333",opacity:1},d:"M8.667 4v5.333a.665.665 0 0 1-1.037.554.665.665 0 0 1-.297-.554V4a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .297.554zM1.333 12V8.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .297.555V12a.665.665 0 0 1-1.138.471.664.664 0 0 1-.196-.471z"}))),s||(s=m.createElement("defs",null,m.createElement("path",{id:"upload_svg__a",d:"M0 0h16v16H0z"}))))};var h=a(9127),_=a(32263),p=a(26989),x=a(12670),k=a(32168),g=a(81482),u=a(4010),f=a(65687),j=a(6333),v=a(41629),C=a(70137),y=a(40714),b=a(11030),M=a(5666),P=a(54283),Z=a.n(P),w=a(9885),A=a(27223),E=a(87140),N=a(52925),O=a(44483),S=a(32470);function MaskAvatar(t){return o.jsx("div",{children:o.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAMAAACxiD++AAAApVBMVEVHcExWUtVVUdNYVNlbVuBVUdFRTchRTclnZOxcWtVOS8NgX9xST8xQTcZgXOhpZ+9OS8FKR7hfWulkYO5nZu9ra/BydPJ0d/JHRbNAPqFucPBwcvJFQqw+PJ0/PZ89PJxJRrdydvI4N5A5OJM4N5BoZu40M4c1NIgxMYBxdPIzM4UuLXlFQ61wcvFvcPFoZ+5ZVdt3ffNCQKZWUtR0efJkYO5fW+iITaL7AAAAN3RSTlMA1P/+/3+Tw3cJ/xj/VsJ+M9r//////+L2Jv1ibbFS//+d/oM6MP/m/7nC//9P1IlB/v+vxOGqDQb20wAAAXZJREFUeAF10gWOwzAARNG/ZcdlZmbm+x9tx3Gr8pMimomZJ3+RaCz2x0/xRNI1UvxgAmzaNQzfJTOQcI1sKudZnuULgElH1CgWS6VypVKt8azeABJBOIkrlCvNaouHdgewQZBOPw1RJdTtSA8p9IPHEBUNMUDMcDQejxtI3pvctWpIZzrjh9oEaEzn8xFftRbIcj5fzQ1fmKZBZvPVarXE6XYzNwanaZGxCvP5GOms+34bWUKbLbc55rd13gsGb7tB7FSGbaStgk4qjlj3VXFGw+lw2MMphAPglCfAYIczVN7rIHlX2CO78hY5GKTbk2MDOaXTScTqqFvAZoGj+Hgs4O/bIll3m2c5ICPF63U/498dsvd3VT0c3DB27fT7fRyDXO4Ff1t9pQVpc5Py70UDTJCEfq7zxLi8sl0szilCQRBkeHINJ+AhEyR5MgkH2PDk7+/kXZFLOAE8299cd9ByedPyXckS5gN+2GR3Lq/y0yLMn1b4Dxi5LEF44/cgAAAAAElFTkSuQmCC",style:{height:24,width:24},alt:"","data-atf":"1","data-frt":"0"})})}function MaskConfig(t){let[e,a]=(0,w.useState)(!1),n=(0,j.MG)();return(0,o.jsxs)(o.Fragment,{children:[o.jsx(ContextPrompts,{context:t.mask.context,updateContext:e=>{let a=t.mask.context.slice();e(a),t.updateMask(t=>t.context=a)}}),(0,o.jsxs)(C.aV,{children:[o.jsx(C.HC,{title:b.ZP.Mask.Config.Avatar,children:o.jsx(C.J2,{content:o.jsx(y.aR,{onEmojiClick:e=>{t.updateMask(t=>t.avatar=e),a(!1)}}),open:e,onClose:()=>a(!1),children:o.jsx("div",{onClick:()=>a(!0),style:{cursor:"pointer"},children:o.jsx(MaskAvatar,{mask:t.mask})})})}),o.jsx(C.HC,{title:b.ZP.Mask.Config.Name,children:o.jsx("input",{type:"text",value:t.mask.name,onInput:e=>t.updateMask(t=>{t.name=e.currentTarget.value})})}),o.jsx(C.HC,{title:b.ZP.Mask.Config.HideContext.Title,subTitle:b.ZP.Mask.Config.HideContext.SubTitle,children:o.jsx("input",{type:"checkbox",checked:t.mask.hideContext,onChange:e=>{t.updateMask(t=>{t.hideContext=e.currentTarget.checked})}})}),t.shouldSyncFromGlobal?null:o.jsx(C.HC,{title:b.ZP.Mask.Config.Share.Title,subTitle:b.ZP.Mask.Config.Share.SubTitle,children:o.jsx(i.h,{icon:o.jsx(g.Z,{}),text:b.ZP.Mask.Config.Share.Action,onClick:()=>{let e=`${location.protocol}//${location.host}/#${N.y$.NewChat}?mask=${t.mask.id}`;(0,A.vQ)(e)}})}),t.shouldSyncFromGlobal?o.jsx(C.HC,{title:b.ZP.Mask.Config.Sync.Title,subTitle:b.ZP.Mask.Config.Sync.SubTitle,children:o.jsx("input",{type:"checkbox",checked:t.mask.syncGlobalConfig,onChange:async e=>{let a=e.currentTarget.checked;a&&await (0,C.i0)(b.ZP.Mask.Config.Sync.Confirm)?t.updateMask(t=>{t.syncGlobalConfig=a,t.modelConfig={...n.modelConfig}}):a||t.updateMask(t=>{t.syncGlobalConfig=a})}})}):null]}),(0,o.jsxs)(C.aV,{children:[o.jsx(E.j,{modelConfig:{...t.mask.modelConfig},updateConfig:e=>{if(t.readonly)return;let a={...t.mask.modelConfig};e(a),t.updateMask(t=>{t.modelConfig=a,t.syncGlobalConfig=!1})}}),t.extraListItems]})]})}function ContextPromptItem(t){let[e,a]=(0,w.useState)(!1);return(0,o.jsxs)("div",{className:Z()["context-prompt-row"],children:[!e&&(0,o.jsxs)(o.Fragment,{children:[o.jsx("div",{className:Z()["context-drag"],children:o.jsx(u.Z,{})}),o.jsx(C.Ph,{value:t.prompt.role,className:Z()["context-role"],onChange:e=>t.update({...t.prompt,role:e.target.value}),children:v.K$.map(t=>o.jsx("option",{value:t,children:t},t))})]}),o.jsx(C.II,{value:t.prompt.content,type:"text",className:Z()["context-content"],rows:e?5:1,onFocus:()=>a(!0),onBlur:()=>{a(!1),window?.getSelection()?.removeAllRanges()},onInput:e=>t.update({...t.prompt,content:e.currentTarget.value})}),!e&&o.jsx(i.h,{icon:o.jsx(x.Z,{}),className:Z()["context-delete-button"],onClick:()=>t.remove(),bordered:!0})]})}function ContextPrompts(t){let e=t.context,addContextPrompt=(e,a)=>{t.updateContext(t=>t.splice(a,0,e))},removeContextPrompt=e=>{t.updateContext(t=>t.splice(e,1))},updateContextPrompt=(e,a)=>{t.updateContext(t=>t[e]=a)};return o.jsx(o.Fragment,{children:(0,o.jsxs)("div",{className:Z()["context-prompt"],style:{marginBottom:20},children:[o.jsx(S.Z5,{onDragEnd:a=>{if(!a.destination)return;let n=function(t,e,a){let n=[...t],[s]=n.splice(e,1);return n.splice(a,0,s),n}(e,a.source.index,a.destination.index);t.updateContext(t=>{t.splice(0,t.length,...n)})},children:o.jsx(S.bK,{droppableId:"context-prompt-list",children:t=>(0,o.jsxs)("div",{ref:t.innerRef,...t.droppableProps,children:[e.map((t,e)=>o.jsx(S._l,{draggableId:t.id||e.toString(),index:e,children:a=>(0,o.jsxs)("div",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,children:[o.jsx(ContextPromptItem,{index:e,prompt:t,update:t=>updateContextPrompt(e,t),remove:()=>removeContextPrompt(e)}),o.jsx("div",{className:Z()["context-prompt-insert"],onClick:()=>{addContextPrompt((0,j.tn)({role:"user",content:"",date:new Date().toLocaleString()}),e+1)},children:o.jsx(_.Z,{})})]})},t.id)),t.placeholder]})})}),0===t.context.length&&o.jsx("div",{className:Z()["context-prompt-row"],children:o.jsx(i.h,{icon:o.jsx(_.Z,{}),text:b.ZP.Context.Add,bordered:!0,className:Z()["context-prompt-button"],onClick:()=>addContextPrompt((0,j.tn)({role:"user",content:"",date:""}),t.context.length)})})]})})}function MaskPage(){let t=(0,M.useNavigate)(),e=(0,f.Zy)(),a=(0,j.aK)(),[n,s]=(0,w.useState)(),r=e.getAll().filter(t=>!n||t.lang===n),[m,u]=(0,w.useState)([]),[v,y]=(0,w.useState)(""),P=v.length>0?m:r,onSearch=t=>{if(y(t),t.length>0){let e=r.filter(e=>e.name.includes(t));u(e)}else u(r)},[Z,E]=(0,w.useState)(),S=e.get(Z)??O.$n.get(Z),importFromFile=()=>{(0,A.j2)().then(t=>{try{let a=JSON.parse(t);if(Array.isArray(a)){for(let t of a)t.name&&e.create(t);return}a.name&&e.create(a)}catch{}})};return(0,o.jsxs)(c.S,{children:[(0,o.jsxs)("div",{className:l()["mask-page"],children:[(0,o.jsxs)("div",{className:"window-header",children:[(0,o.jsxs)("div",{className:"window-header-title",children:[o.jsx("div",{className:"window-header-main-title",children:b.ZP.Mask.Page.Title}),o.jsx("div",{className:"window-header-submai-title",children:b.ZP.Mask.Page.SubTitle(r.length)})]}),(0,o.jsxs)("div",{className:"window-actions",children:[o.jsx("div",{className:"window-action-button",children:o.jsx(i.h,{icon:o.jsx(d.Z,{}),bordered:!0,onClick:()=>{(0,A.CP)(JSON.stringify(P),N.dJ.Masks)}})}),o.jsx("div",{className:"window-action-button",children:o.jsx(i.h,{icon:o.jsx(upload,{}),bordered:!0,onClick:()=>importFromFile()})}),o.jsx("div",{className:"window-action-button",children:o.jsx(i.h,{icon:o.jsx(p.Z,{}),bordered:!0,onClick:()=>t(-1)})})]})]}),(0,o.jsxs)("div",{className:l()["mask-page-body"],children:[(0,o.jsxs)("div",{className:l()["mask-filter"],children:[o.jsx("input",{type:"text",className:l()["search-bar"],placeholder:b.ZP.Mask.Page.Search,autoFocus:!0,onInput:t=>onSearch(t.currentTarget.value)}),(0,o.jsxs)(C.Ph,{className:l()["mask-filter-lang"],value:n??b.ZP.Settings.Lang.All,onChange:t=>{let e=t.currentTarget.value;e===b.ZP.Settings.Lang.All?s(void 0):s(e)},children:[o.jsx("option",{value:b.ZP.Settings.Lang.All,children:b.ZP.Settings.Lang.All},"all"),b.DC.map(t=>o.jsx("option",{value:t,children:b.nW[t]},t))]}),o.jsx(i.h,{className:l()["mask-create"],icon:o.jsx(_.Z,{}),text:b.ZP.Mask.Page.Create,bordered:!0,onClick:()=>{let t=e.create();E(t.id)}})]}),o.jsx("div",{children:P.map(n=>(0,o.jsxs)("div",{className:l()["mask-item"],children:[(0,o.jsxs)("div",{className:l()["mask-header"],children:[o.jsx("div",{className:l()["mask-icon"],children:o.jsx(MaskAvatar,{mask:n})}),(0,o.jsxs)("div",{className:l()["mask-title"],children:[o.jsx("div",{className:l()["mask-name"],children:n.name}),o.jsx("div",{className:l()["mask-info"]+" one-line",children:`${b.ZP.Mask.Item.Info(n.context.length)} / ${b.nW[n.lang]} / ${n.modelConfig.model}`})]})]}),(0,o.jsxs)("div",{className:l()["mask-actions"],children:[o.jsx(i.h,{icon:o.jsx(_.Z,{}),text:b.ZP.Mask.Item.Chat,onClick:()=>{a.newSession(n),t(N.y$.Chat)}}),n.builtin?o.jsx(i.h,{icon:o.jsx(k.Z,{}),text:b.ZP.Mask.Item.View,onClick:()=>E(n.id)}):o.jsx(i.h,{icon:o.jsx(h.Z,{}),text:b.ZP.Mask.Item.Edit,onClick:()=>E(n.id)}),!n.builtin&&o.jsx(i.h,{icon:o.jsx(x.Z,{}),text:b.ZP.Mask.Item.Delete,onClick:async()=>{await (0,C.i0)(b.ZP.Mask.Item.DeleteConfirm)&&e.delete(n.id)}})]})]},n.id))})]})]}),S&&o.jsx("div",{className:"modal-mask",children:o.jsx(C.u_,{title:b.ZP.Mask.EditModal.Title(S?.builtin),onClose:()=>E(void 0),actions:[o.jsx(i.h,{icon:o.jsx(d.Z,{}),text:b.ZP.Mask.EditModal.Download,bordered:!0,onClick:()=>(0,A.CP)(JSON.stringify(S),`${S.name}.json`)},"export"),o.jsx(i.h,{icon:o.jsx(g.Z,{}),bordered:!0,text:b.ZP.Mask.EditModal.Clone,onClick:()=>{t(N.y$.Masks),e.create(S),E(void 0)}},"copy")],children:o.jsx(MaskConfig,{mask:S,updateMask:t=>e.update(Z,t),readonly:S.builtin})})})]})}},54283:t=>{t.exports={"chat-input-actions":"chat_chat-input-actions__mwYC_","chat-input-action":"chat_chat-input-action__DMW7Y","slide-in":"chat_slide-in__nvZgA",text:"chat_text__TkPfN",icon:"chat_icon__Ly3TN","prompt-toast":"chat_prompt-toast___VCUf","prompt-toast-inner":"chat_prompt-toast-inner__f17E6","slide-in-from-top":"chat_slide-in-from-top__Q0KCt","prompt-toast-content":"chat_prompt-toast-content__9sp_w","section-title":"chat_section-title__BiPko","section-title-action":"chat_section-title-action__bmruw","context-prompt":"chat_context-prompt__cbach","context-prompt-insert":"chat_context-prompt-insert__UmNJi","context-prompt-row":"chat_context-prompt-row__3Kbix","context-drag":"chat_context-drag__BX7lh","context-role":"chat_context-role__7_IR9","context-content":"chat_context-content__sNXUy","context-delete-button":"chat_context-delete-button__C_BmS","context-prompt-button":"chat_context-prompt-button__AoPsw","memory-prompt":"chat_memory-prompt__vOzcn","memory-prompt-content":"chat_memory-prompt-content__kUVKj","clear-context":"chat_clear-context__ke8Iw","clear-context-tips":"chat_clear-context-tips__L1A_i","clear-context-revert-btn":"chat_clear-context-revert-btn___Wna1",chat:"chat_chat__ZebHg","chat-body":"chat_chat-body__QFv5x","chat-body-main-title":"chat_chat-body-main-title__jUL6h","chat-body-title":"chat_chat-body-title__d2ItC","chat-message":"chat_chat-message__dg8rL","chat-message-user":"chat_chat-message-user__ZtTEj","chat-message-header":"chat_chat-message-header__Dny_K","chat-message-actions":"chat_chat-message-actions__H90hg","chat-message-container":"chat_chat-message-container__O_X8_","chat-message-edit":"chat_chat-message-edit__h58of","chat-message-avatar":"chat_chat-message-avatar__3QeMq","chat-message-status":"chat_chat-message-status__zc9Ad","chat-message-item":"chat_chat-message-item__dKqMl","chat-message-action-date":"chat_chat-message-action-date__RsXTn","chat-input-panel":"chat_chat-input-panel__rO72m","prompt-hints":"chat_prompt-hints__VT_Oi","prompt-hint":"chat_prompt-hint__2616t","hint-title":"chat_hint-title__E53ZK","hint-content":"chat_hint-content__y2yj4","prompt-hint-selected":"chat_prompt-hint-selected__o3vYi","chat-disclaimer":"chat_chat-disclaimer__Xlvld","chat-input-panel-inner":"chat_chat-input-panel-inner___IQHi","chat-input":"chat_chat-input__PQ_oF","chat-input-send":"chat_chat-input-send__GFQZo"}},71245:t=>{t.exports={"mask-page":"mask_mask-page__ou14k","mask-page-body":"mask_mask-page-body__kBXsJ","mask-filter":"mask_mask-filter__OdpU3","slide-in":"mask_slide-in__unpXH","search-bar":"mask_search-bar__7_Msn","mask-filter-lang":"mask_mask-filter-lang__mRxyv","mask-create":"mask_mask-create__BjAzk","mask-item":"mask_mask-item__dinia","mask-header":"mask_mask-header__RXJXI","mask-icon":"mask_mask-icon__wO1ER","mask-title":"mask_mask-title__IDEbR","mask-name":"mask_mask-name__77Rjh","mask-info":"mask_mask-info__2gtiu","mask-actions":"mask_mask-actions__rsWn_","slide-in-from-top":"mask_slide-in-from-top__DOEYB"}}};