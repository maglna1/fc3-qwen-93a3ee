"use strict";exports.id=1082,exports.ids=[1082],exports.modules={11082:(t,e,n)=>{n.d(e,{a:()=>createText,c:()=>computeDimensionOfText});var r=n(39222),o=n(62050),l=n(12905);function createTspan(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}function computeDimensionOfText(t,e,n){var r;let o=t.append("text"),l=createTspan(o,1,e);updateTextContentAndStyles(l,[{content:n,type:"normal"}]);let i=null==(r=l.node())?void 0:r.getBoundingClientRect();return i&&o.remove(),i}function updateTextContentAndStyles(t,e){t.text(""),e.forEach((e,n)=>{let r=t.append("tspan").attr("font-style","emphasis"===e.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===e.type?"bold":"normal");0===n?r.text(e.content):r.text(" "+e.content)})}let createText=(t,e="",{style:n="",isTitle:i=!1,classes:a="",useHtmlLabels:p=!0,isNode:s=!0,width:c=200,addSvgBackground:u=!1}={})=>{if(r.l.info("createText",e,n,i,a,p,s,u),p){let l=function(t){let{children:e}=(0,o.V)(t);return e.map(function output(t){return"text"===t.type?t.value.replace(/\n/g,"<br/>"):"strong"===t.type?`<strong>${t.children.map(output).join("")}</strong>`:"emphasis"===t.type?`<em>${t.children.map(output).join("")}</em>`:"paragraph"===t.type?`<p>${t.children.map(output).join("")}</p>`:`Unsupported markdown: ${t.type}`}).join("")}(e),i={isNode:s,label:(0,r.M)(l).replace(/fa[blrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")},p=function(t,e,n,r,o=!1){var l;let i=t.append("foreignObject"),a=i.append("xhtml:div"),p=e.label,s=e.isNode?"nodeLabel":"edgeLabel";a.html(`
    <span class="${s} ${r}" `+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+p+"</span>"),(l=e.labelStyle)&&a.attr("style",l),a.style("display","table-cell"),a.style("white-space","nowrap"),a.style("max-width",n+"px"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),o&&a.attr("class","labelBkg");let c=a.node().getBoundingClientRect();return c.width===n&&(a.style("display","table"),a.style("white-space","break-spaces"),a.style("width",n+"px"),c=a.node().getBoundingClientRect()),i.style("width",c.width),i.style("height",c.height),i.node()}(t,i,c,a,u);return p}{let n=function(t){let e=function(t){let e=t.replace(/\n{2,}/g,"\n"),n=(0,l.Zc)(e);return n}(t),{children:n}=(0,o.V)(e),r=[[]],i=0;return n.forEach(t=>{"paragraph"===t.type&&t.children.forEach(t=>{!function processNode(t,e="normal"){if("text"===t.type){let n=t.value.split("\n");n.forEach((t,n)=>{0!==n&&(i++,r.push([])),t.split(" ").forEach(t=>{t&&r[i].push({content:t,type:e})})})}else("strong"===t.type||"emphasis"===t.type)&&t.children.forEach(e=>{processNode(e,t.type)})}(t)})}),r}(e),r=function(t,e,n,r=!1){let o=e.append("g"),l=o.insert("rect").attr("class","background"),i=o.append("text").attr("y","-10.1"),a=0;for(let e of n){let checkWidth=e=>(function(t,e,n){let r=t.append("text"),o=createTspan(r,1,1.1);updateTextContentAndStyles(o,n);let l=o.node().getComputedTextLength();return r.remove(),l})(o,0,e)<=t,n=checkWidth(e)?[e]:function(t,e){if(t.some(({content:t})=>t.includes("\n")))throw Error("splitLineToFitWidth does not support newlines in the line");return function splitLineToFitWidthRecursion(t,e,n=[],r=[]){if(0===t.length)return r.length>0&&n.push(r),n.length>0?n:[];let o="";" "===t[0].content&&(o=" ",t.shift());let l=t.shift()??{content:" ",type:"normal"},i=[...r];if(""!==o&&i.push({content:o,type:"normal"}),i.push(l),e(i))return splitLineToFitWidthRecursion(t,e,n,i);if(r.length>0)n.push(r),t.unshift(l);else if(l.content){let[r,o]=function(t,e){var n;let r=(n=e.content,Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(t=>t.segment):[...n]);return function splitWordToFitWidthRecursion(t,e,n,r){if(0===n.length)return[{content:e.join(""),type:r},{content:"",type:r}];let[o,...l]=n,i=[...e,o];return t([{content:i.join(""),type:r}])?splitWordToFitWidthRecursion(t,i,l,r):(0===e.length&&o&&(e.push(o),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}(t,[],r,e.type)}(e,l);n.push([r]),o.content&&t.unshift(o)}return splitLineToFitWidthRecursion(t,e,n)}(t,e)}(e,checkWidth);for(let t of n){let e=createTspan(i,a,1.1);updateTextContentAndStyles(e,t),a++}}if(!r)return i.node();{let t=i.node().getBBox();return l.attr("x",-2).attr("y",-2).attr("width",t.width+4).attr("height",t.height+4),o.node()}}(c,t,n,u);return r}}}};