"use strict";exports.id=9932,exports.ids=[9932],exports.modules={59932:(e,t,a)=>{a.r(t),a.d(t,{ChatItem:()=>ChatItem,ChatList:()=>ChatList});var s=a(30784),i=a(12670),n=a(73741),l=a.n(n),r=a(32470),c=a(6333),d=a(11030),o=a(5666),h=a(52925),m=a(16789),x=a(9885),u=a(70137);function ChatItem(e){let t=(0,x.useRef)(null);return(0,x.useEffect)(()=>{e.selected&&t.current&&t.current?.scrollIntoView({block:"center"})},[e.selected]),s.jsx(r._l,{draggableId:`${e.id}`,index:e.index,children:a=>(0,s.jsxs)("div",{className:`${l()["chat-item"]} ${e.selected&&l()["chat-item-selected"]}`,onClick:e.onClick,ref:e=>{t.current=e,a.innerRef(e)},...a.draggableProps,...a.dragHandleProps,title:`${e.title}
${d.ZP.ChatItem.ChatItemCount(e.count)}`,children:[e.narrow?(0,s.jsxs)("div",{className:l()["chat-item-narrow"],children:[s.jsx("div",{className:l()["chat-item-avatar"]+" no-dark",children:s.jsx(m.MaskAvatar,{mask:e.mask})}),s.jsx("div",{className:l()["chat-item-narrow-count"],children:e.count})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:l()["chat-item-title"],children:e.title}),(0,s.jsxs)("div",{className:l()["chat-item-info"],children:[s.jsx("div",{className:l()["chat-item-count"],children:d.ZP.ChatItem.ChatItemCount(e.count)}),s.jsx("div",{className:l()["chat-item-date"],children:e.time})]})]}),s.jsx("div",{className:l()["chat-item-delete"],onClickCapture:e.onDelete,children:s.jsx(i.Z,{})})]})})}function ChatList(e){let[t,a,i,n]=(0,c.aK)(e=>[e.sessions,e.currentSessionIndex,e.selectSession,e.moveSession]),m=(0,c.aK)(),x=(0,o.useNavigate)();return s.jsx(r.Z5,{onDragEnd:e=>{let{destination:t,source:a}=e;t&&(t.droppableId!==a.droppableId||t.index!==a.index)&&n(a.index,t.index)},children:s.jsx(r.bK,{droppableId:"chat-list",children:n=>(0,s.jsxs)("div",{className:l()["chat-list"],ref:n.innerRef,...n.droppableProps,children:[t.map((t,n)=>s.jsx(ChatItem,{title:t.topic,time:new Date(t.lastUpdate).toLocaleString(),count:t.messages.length,id:t.id,index:n,selected:n===a,onClick:()=>{x(h.y$.Chat),i(n)},onDelete:async()=>{(!e.narrow||await (0,u.i0)(d.ZP.Home.DeleteChat))&&m.deleteSession(n)},narrow:e.narrow,mask:t.mask},t.id)),n.placeholder]})})})}}};